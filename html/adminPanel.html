<!DOCTYPE html>
<html>
<head>

<script type="text/javascript" src="/node_modules/angular/angular.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="/css/adminPanel.css">

	<script type="text/javascript" src="/node_modules/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="/js/controllers/adminModule.js"></script>
	<script type="text/javascript" src="/node_modules/angular-cookies/angular-cookies.min.js"></script>
	<script type="text/javascript" src="/node_modules/angular-touch/angular-touch.min.js"></script>
	<script type="text/javascript" src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
	<title></title>
</head>
<body>
<div ng-app="adminApp" ng-controller="AdminController">

<!-- admin login -->
	<div class="admin-login col-lg-4 col-md-6 col-sm-12 col-xs-12 col-lg-offset-4 col-md-offset-3" ng-show="!adminLoggedIn">
	<div ng-bind="loginResponse.message">{{loginResponse.message}}</div>
		<div class="input-group">
		  <span class="input-group-addon" id="basic-addon1">UserName</span>
		  <input type="text" class="form-control" placeholder="Admin UserName" autocomplete="off" aria-describedby="basic-addon1" ng-model="adminDetails.userName">
		</div>
		<br>
		<div class="input-group">
		  <span class="input-group-addon" id="basic-addon1">Password</span>
		  <input type="password" class="form-control" placeholder="Admin Password" autocomplete="off" aria-describedby="basic-addon1" ng-model="adminDetails.password">
		</div>
		<br>
		<div class="btn-group admin-login-btn" role="group" aria-label="...">
		  <button type="button" class="btn btn-success btn-group-justified" ng-click="adminLoginCheck()">LOGIN</button>
		</div>
	</div>
<!-- admin login ends -->

	<div class="adminPanel" ng-show="adminLoggedIn">
	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 logout">
		<button class="btn btn-danger" ng-click="adminLoggedIn = !adminLoggedIn">LOGOUT</button>
	</div>

		<div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 pending-requests">
				<h3>ACTIVE REQUESTS</h3>
				<div ng-repeat="activeRequest in requests.activeRequests">
					<table class="listRequests">
						<tr>
							<td>email </td>
							<td>{{activeRequest.email}}</td>
						</tr>
						<tr>
							<td>tel </td>
							<td>{{activeRequest.tel.primary}}</td>
						</tr>
						<tr>
							<td>issue</td>
							<td>{{activeRequest.issueDesc}}</td>
						</tr>
						<tr>
							<td>address</td>
							<td>{{activeRequest.address.initialAddress+','+activeRequest.address.city+","+activeRequest.address.state+","+activeRequest.address.zipCode}}</td>
						</tr>
						<tr>
							<td>Service Type</td>
							<td class="service-type">{{activeRequest.serviceType}}</td>
						</tr>
						<tr>
							<td>Device Type</td>
							<td>{{activeRequest.deviceType}}</td>
						</tr>
						<tr>
							<td>Date</td>
							<td>{{activeRequest.date}}</td>
						</tr>
						<tr>
							<td>Status</td>
							<td class="status-styling">{{activeRequest.status}}</td>
						</tr>

					</table>
					<br>
					<select name="status" ng-model="statusObject.statusToChange[$index]" >
					  <option value="Completed">Completed</option>
					  <option value="Engineer Is Arriving">Engineer is Arriving</option>
					  <option value="Servicing">Servicing</option>
					  <option value="Out For Delivery">Out For Delivery</option>
					</select>
					<button class="btn btn-primary" ng-click="changeStatusFromActiveRequest($index,activeRequest._id)">Change Status</button>
				<hr>
				</div>
		</div>

		<div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 completed-requests">
			<h3>COMPLETED REQUESTS</h3>
				<div ng-repeat="completedRequest in requests.completedRequests">
					<table class="listRequests">
						<tr>
							<td>email </td>
							<td>{{completedRequest.email}}</td>
						</tr>
						<tr>
							<td>tel </td>
							<td>{{completedRequest.tel.primary}}</td>
						</tr>
						<tr>
							<td>issue</td>
							<td>{{completedRequest.issueDesc}}</td>
						</tr>
						<tr>
							<td>address</td>
							<td>{{completedRequest.address.initialAddress+','+completedRequest.address.city+","+completedRequest.address.state+","+completedRequest.address.zipCode}}</td>
						</tr>
						<tr>
							<td>Service Type</td>
							<td>{{completedRequest.serviceType}}</td>
						</tr>
						<tr>
							<td>Device Type</td>
							<td>{{completedRequest.deviceType}}</td>
						</tr>
						<tr>
							<td>Date</td>
							<td>{{completedRequest.date}}</td>
						</tr>
						<tr>
							<td>Status</td>
							<td class="status-styling">{{completedRequest.status}}</td>
						</tr>
					</table>
				<hr>
				</div>
		</div>
	
	</div>
</div>
</body>
</html>
